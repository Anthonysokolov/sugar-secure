{"ast":null,"code":"var _jsxFileName = \"/Users/anthony/gh/animal-kingdom/src/Kingdom.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { UserSession } from 'blockstack';\nimport { jsonCopy } from './utils';\nimport { appConfig, EXPLORER_URL } from './constants';\nimport { READINGS } from './SignedIn';\nimport * as CanvasJSReact from './canvasjs.react';\nimport './Kingdom.css';\nvar CanvasJS = CanvasJSReact.CanvasJS;\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\n\nclass Kingdom extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      app: \"\".concat(props.protocol, \"//\").concat(props.realm),\n      rulerUsername: \"Anthony\",\n      clickAdd: false,\n      readings: \"3\"\n    };\n    this.userSession = new UserSession({\n      appConfig\n    });\n    this.handleChange = this.handleChange.bind(this);\n    window.addEventListener(\"submit\", () => {\n      this.readings = \"3\";\n    });\n  }\n\n  componentWillMount() {\n    const app = this.state.app;\n    const ruler = this.props.ruler;\n    const search = window.location.search;\n\n    if (search) {\n      const appUrl = search.split('=')[1];\n      this.setState({\n        value: appUrl,\n        clickAdd: true\n      });\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextSubjects = nextProps.subjects;\n\n    if (nextSubjects) {\n      if (nextSubjects.length !== this.state.subjects.length) {\n        this.setState({\n          subjects: jsonCopy(nextSubjects)\n        });\n      }\n    }\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  render() {\n    const mine = this.props.myKingdom;\n    const username = this.state.rulerUsername;\n    const app = this.state.app;\n    const clickAdd = this.state.clickAdd;\n    const currentUsername = this.props.currentUsername;\n    console.log(READINGS);\n    const options = {\n      title: {\n        text: \"Basic Column Chart in React\"\n      },\n      data: [{\n        type: \"column\",\n        dataPoints: [{\n          label: \"Apple\",\n          y: 10\n        }, {\n          label: \"Orange\",\n          y: 15\n        }, {\n          label: \"Banana\",\n          y: 25\n        }, {\n          label: \"Mango\",\n          y: 30\n        }, {\n          label: \"Grape\",\n          y: 28\n        }]\n      }]\n    };\n    return React.createElement(\"div\", {\n      className: \"Kingdom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row ruler\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Welcome \", username), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \" \", READINGS[0], \" \"), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Add Reading\"), mine ? React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"addReading\",\n      className: \"add-frame col-lg-8\",\n      style: {\n        borderColor: clickAdd ? 'red' : '#f8f9fa'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.addReading,\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      onChange: this.handleChange,\n      value: this.state.value,\n      required: true,\n      placeholder: \"Glucose value\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group-append\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      value: \"Add reading\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))))) : null))));\n  }\n\n}\n\nexport default Kingdom;","map":{"version":3,"sources":["/Users/anthony/gh/animal-kingdom/src/Kingdom.js"],"names":["React","Component","Link","UserSession","jsonCopy","appConfig","EXPLORER_URL","READINGS","CanvasJSReact","CanvasJS","CanvasJSChart","Kingdom","constructor","props","state","value","app","protocol","realm","rulerUsername","clickAdd","readings","userSession","handleChange","bind","window","addEventListener","componentWillMount","ruler","search","location","appUrl","split","setState","componentWillReceiveProps","nextProps","nextSubjects","subjects","length","event","target","render","mine","myKingdom","username","currentUsername","console","log","options","title","text","data","type","dataPoints","label","y","borderColor","addReading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { UserSession } from 'blockstack'\nimport { jsonCopy} from './utils'\nimport { appConfig, EXPLORER_URL } from './constants'\nimport {READINGS} from './SignedIn'\nimport * as CanvasJSReact from './canvasjs.react'\n\nimport './Kingdom.css'\n\nvar CanvasJS = CanvasJSReact.CanvasJS\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart\n\nclass Kingdom extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: '',\n      app:`${props.protocol}//${props.realm}`,\n      rulerUsername: \"Anthony\",\n      clickAdd: false,\n      readings:\"3\"\n    }\n    this.userSession = new UserSession({ appConfig })\n    this.handleChange = this.handleChange.bind(this)\n    window.addEventListener(\"submit\", () => {\n      this.readings = \"3\";\n    });\n  }\n\n  componentWillMount() {\n    const app = this.state.app\n    const ruler = this.props.ruler\n    const search = window.location.search\n    if(search) {\n      const appUrl = search.split('=')[1]\n      this.setState({\n        value: appUrl,\n        clickAdd: true\n      })\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextSubjects = nextProps.subjects\n    if(nextSubjects) {\n      if (nextSubjects.length !== this.state.subjects.length) {\n        this.setState({ subjects: jsonCopy(nextSubjects) })\n      }\n    }\n  }\n\n  handleChange(event) {\n   this.setState({value: event.target.value});\n  }\n\n  render() {\n    const mine = this.props.myKingdom\n    const username = this.state.rulerUsername\n    const app = this.state.app\n    const clickAdd = this.state.clickAdd\n    const currentUsername = this.props.currentUsername\n    console.log(READINGS)\n\n    const options = {\n      title: {\n        text: \"Basic Column Chart in React\"\n      },\n      data: [{\n                type: \"column\",\n                dataPoints: [\n                    { label: \"Apple\",  y: 10  },\n                    { label: \"Orange\", y: 15  },\n                    { label: \"Banana\", y: 25  },\n                    { label: \"Mango\",  y: 30  },\n                    { label: \"Grape\",  y: 28  }\n                ]\n       }]\n   }\n\n    return (\n      <div className=\"Kingdom\">\n        <div className=\"row\">\n        </div>\n        <div className=\"row ruler\">\n          <div className=\"col-lg-12\">\n            <h2>Welcome {username}</h2>\n            <h2> {READINGS[0]} </h2>\n            <div className=\"container\">\n              <h2>Add Reading</h2>\n              {mine ?\n                <div className=\"row justify-content-center\">\n                  <div\n                    id=\"addReading\"\n                    className=\"add-frame col-lg-8\"\n                    style={{borderColor: (clickAdd ? 'red' : '#f8f9fa')}}\n                  >\n                    <form onSubmit={this.addReading} className=\"input-group\">\n                      <input\n                        className=\"form-control\"\n                        type=\"text\"\n                        onChange={this.handleChange}\n                        value={this.state.value}\n                        required\n                        placeholder=\"Glucose value\"\n                      />\n                      <div className=\"input-group-append\">\n                        <input type=\"submit\" className=\"btn btn-primary\" value=\"Add reading\"/>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n                :\n                null\n              }\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Kingdom\n"]},"metadata":{},"sourceType":"module"}